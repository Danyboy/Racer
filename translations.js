// Переводы для всех поддерживаемых языков
const translations = {
    ru: {
        title: "Racer - Гоночные события",
        subtitle: "Гоночные треки и события Европы",
        calendar: "Календарь",
        map: "Карта",
        allCountries: "Все страны",
        spain: "Испания",
        france: "Франция",
        germany: "Германия",
        austria: "Австрия",
        czech: "Чехия",
        netherlands: "Нидерланды",
        uk: "Великобритания",
        portugal: "Португалия",
        allMonths: "Все месяцы",
        january: "Январь",
        february: "Февраль",
        march: "Март",
        april: "Апрель",
        may: "Май",
        june: "Июнь",
        july: "Июль",
        august: "Август",
        september: "Сентябрь",
        october: "Октябрь",
        november: "Ноябрь",
        december: "Декабрь",
        monday: "Пн",
        tuesday: "Вт",
        wednesday: "Ср",
        thursday: "Чт",
        friday: "Пт",
        saturday: "Сб",
        sunday: "Вс",
        track: "Трек",
        country: "Страна",
        date: "Дата",
        eventType: "Тип события",
        description: "Описание",
        officialWebsite: "Официальный сайт трека",
        searchInfo: "Поиск информации",
        copyright: "© 2024 Racer - Гоночные события Европы"
    },
    en: {
        title: "Racer - Racing Events",
        subtitle: "Racing tracks and events in Europe",
        calendar: "Calendar",
        map: "Map",
        allCountries: "All countries",
        spain: "Spain",
        france: "France",
        germany: "Germany",
        austria: "Austria",
        czech: "Czech Republic",
        netherlands: "Netherlands",
        uk: "United Kingdom",
        portugal: "Portugal",
        allMonths: "All months",
        january: "January",
        february: "February",
        march: "March",
        april: "April",
        may: "May",
        june: "June",
        july: "July",
        august: "August",
        september: "September",
        october: "October",
        november: "November",
        december: "December",
        monday: "Mon",
        tuesday: "Tue",
        wednesday: "Wed",
        thursday: "Thu",
        friday: "Fri",
        saturday: "Sat",
        sunday: "Sun",
        track: "Track",
        country: "Country",
        date: "Date",
        eventType: "Event type",
        description: "Description",
        officialWebsite: "Official track website",
        searchInfo: "Search information",
        copyright: "© 2024 Racer - Racing events in Europe"
    },
    fr: {
        title: "Racer - Événements de course",
        subtitle: "Circuits et événements de course en Europe",
        calendar: "Calendrier",
        map: "Carte",
        allCountries: "Tous les pays",
        spain: "Espagne",
        france: "France",
        germany: "Allemagne",
        austria: "Autriche",
        czech: "République tchèque",
        netherlands: "Pays-Bas",
        uk: "Royaume-Uni",
        portugal: "Portugal",
        allMonths: "Tous les mois",
        january: "Janvier",
        february: "Février",
        march: "Mars",
        april: "Avril",
        may: "Mai",
        june: "Juin",
        july: "Juillet",
        august: "Août",
        september: "Septembre",
        october: "Octobre",
        november: "Novembre",
        december: "Décembre",
        monday: "Lun",
        tuesday: "Mar",
        wednesday: "Mer",
        thursday: "Jeu",
        friday: "Ven",
        saturday: "Sam",
        sunday: "Dim",
        track: "Circuit",
        country: "Pays",
        date: "Date",
        eventType: "Type d'événement",
        description: "Description",
        officialWebsite: "Site officiel du circuit",
        searchInfo: "Rechercher des informations",
        copyright: "© 2024 Racer - Événements de course en Europe"
    },
    es: {
        title: "Racer - Eventos de carreras",
        subtitle: "Circuitos y eventos de carreras en Europa",
        calendar: "Calendario",
        map: "Mapa",
        allCountries: "Todos los países",
        spain: "España",
        france: "Francia",
        germany: "Alemania",
        austria: "Austria",
        czech: "República Checa",
        netherlands: "Países Bajos",
        uk: "Reino Unido",
        portugal: "Portugal",
        allMonths: "Todos los meses",
        january: "Enero",
        february: "Febrero",
        march: "Marzo",
        april: "Abril",
        may: "Mayo",
        june: "Junio",
        july: "Julio",
        august: "Agosto",
        september: "Septiembre",
        october: "Octubre",
        november: "Noviembre",
        december: "Diciembre",
        monday: "Lun",
        tuesday: "Mar",
        wednesday: "Mié",
        thursday: "Jue",
        friday: "Vie",
        saturday: "Sáb",
        sunday: "Dom",
        track: "Circuito",
        country: "País",
        date: "Fecha",
        eventType: "Tipo de evento",
        description: "Descripción",
        officialWebsite: "Sitio web oficial del circuito",
        searchInfo: "Buscar información",
        copyright: "© 2024 Racer - Eventos de carreras en Europa"
    },
    de: {
        title: "Racer - Rennveranstaltungen",
        subtitle: "Rennstrecken und Veranstaltungen in Europa",
        calendar: "Kalender",
        map: "Karte",
        allCountries: "Alle Länder",
        spain: "Spanien",
        france: "Frankreich",
        germany: "Deutschland",
        austria: "Österreich",
        czech: "Tschechische Republik",
        netherlands: "Niederlande",
        uk: "Vereinigtes Königreich",
        portugal: "Portugal",
        allMonths: "Alle Monate",
        january: "Januar",
        february: "Februar",
        march: "März",
        april: "April",
        may: "Mai",
        june: "Juni",
        july: "Juli",
        august: "August",
        september: "September",
        october: "Oktober",
        november: "November",
        december: "Dezember",
        monday: "Mo",
        tuesday: "Di",
        wednesday: "Mi",
        thursday: "Do",
        friday: "Fr",
        saturday: "Sa",
        sunday: "So",
        track: "Strecke",
        country: "Land",
        date: "Datum",
        eventType: "Veranstaltungstyp",
        description: "Beschreibung",
        officialWebsite: "Offizielle Streckenwebsite",
        searchInfo: "Informationen suchen",
        copyright: "© 2024 Racer - Rennveranstaltungen in Europa"
    },
    it: {
        title: "Racer - Eventi di corse",
        subtitle: "Circuiti ed eventi di corse in Europa",
        calendar: "Calendario",
        map: "Mappa",
        allCountries: "Tutti i paesi",
        spain: "Spagna",
        france: "Francia",
        germany: "Germania",
        austria: "Austria",
        czech: "Repubblica Ceca",
        netherlands: "Paesi Bassi",
        uk: "Regno Unito",
        portugal: "Portogallo",
        allMonths: "Tutti i mesi",
        january: "Gennaio",
        february: "Febbraio",
        march: "Marzo",
        april: "Aprile",
        may: "Maggio",
        june: "Giugno",
        july: "Luglio",
        august: "Agosto",
        september: "Settembre",
        october: "Ottobre",
        november: "Novembre",
        december: "Dicembre",
        monday: "Lun",
        tuesday: "Mar",
        wednesday: "Mer",
        thursday: "Gio",
        friday: "Ven",
        saturday: "Sab",
        sunday: "Dom",
        track: "Circuito",
        country: "Paese",
        date: "Data",
        eventType: "Tipo di evento",
        description: "Descrizione",
        officialWebsite: "Sito ufficiale del circuito",
        searchInfo: "Cerca informazioni",
        copyright: "© 2024 Racer - Eventi di corse in Europa"
    }
};

// Функция для определения языка браузера
function getBrowserLanguage() {
    const browserLang = navigator.language || navigator.userLanguage;
    const langCode = browserLang.split('-')[0];
    
    // Проверяем, поддерживается ли язык браузера
    if (translations[langCode]) {
        return langCode;
    }
    
    // Если не поддерживается, возвращаем русский по умолчанию
    return 'ru';
}

// Функция для перевода интерфейса
function translateInterface(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
    
    // Обновляем заголовок страницы
    document.title = translations[lang].title || 'Racer';
}

// Инициализация языка при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    const currentLang = getBrowserLanguage();
    const languageSelect = document.getElementById('languageSelect');
    
    // Устанавливаем текущий язык в селектор
    languageSelect.value = currentLang;
    
    // Переводим интерфейс
    translateInterface(currentLang);
    
    // Обработчик изменения языка
    languageSelect.addEventListener('change', function() {
        const selectedLang = this.value;
        translateInterface(selectedLang);
        
        // Перерисовываем календарь с новым языком
        if (typeof renderCalendar === 'function') {
            renderCalendar();
        }
    });
}); 